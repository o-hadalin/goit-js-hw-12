{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"46849808-268f228f7185f073a2d253586\";\n\nexport const fetchImages = async (query, page = 1, perPage = 15) => {\n  try {\n    const response = await axios.get(URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n        page,\n        per_page: perPage,\n      },\n    });\n    return response.data.hits;\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n    return [];\n  }\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function renderGallery(images, galleryElement) {\n  galleryElement.innerHTML = images.map(img => `\n    <a href=\"${img.largeImageURL}\">\n      <img src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n      <div class=\"card-info\">\n        <div class=\"info-row\">\n          <span class=\"label\">Likes</span>\n          <span class=\"value\">${img.likes}</span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">Views</span>\n          <span class=\"value\">${img.views}</span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">Comments</span>\n          <span class=\"value\">${img.comments}</span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"label\">Downloads</span>\n          <span class=\"value\">${img.downloads}</span>\n        </div>\n      </div>\n    </a>\n  `).join(\"\");\n  \n  const lightbox = new SimpleLightbox(\"a\", {\n    captionsData: \"alt\",\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}","import { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderGallery } from \"./js/render-functions.js\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\"form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nconst loadMoreButton = document.querySelector(\".load-more\");\n\nlet query = \"\";\nlet page = 1;\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  query = event.target.elements.query.value.trim();\n\n  if (!query) {\n    iziToast.warning({ message: \"Please enter a search term.\" });\n    return;\n  }\n\n  loader.classList.add(\"show\");\n  gallery.innerHTML = \"\";\n  loadMoreButton.style.display = \"none\";\n  page = 1;\n\n  fetchAndRenderImages();\n});\n\nloadMoreButton.addEventListener(\"click\", () => {\n  loadMoreButton.style.display = \"none\";\n  loader.classList.add(\"show\");\n  page += 1;\n  fetchAndRenderImages();\n});\n\nasync function fetchAndRenderImages() {\n  try {\n    const images = await fetchImages(query, page);\n    loader.classList.remove(\"show\");\n\n    if (images.length > 0) {\n      renderGallery(images, gallery);\n      loadMoreButton.style.display = \"block\";\n    } else if (page === 1) {\n      iziToast.error({ message: \"Sorry, there are no images matching your search query.\" });\n    }\n  } catch (error) {\n    loader.classList.remove(\"show\");\n    iziToast.error({ message: `An error occurred: ${error.message}. Please try again later.` });\n  }\n}"],"names":["URL","API_KEY","fetchImages","query","page","perPage","axios","error","renderGallery","images","galleryElement","img","SimpleLightbox","form","gallery","loader","loadMoreButton","event","iziToast","fetchAndRenderImages"],"mappings":"owBAEA,MAAMA,EAAM,2BACNC,EAAU,qCAEHC,EAAc,MAAOC,EAAOC,EAAO,EAAGC,EAAU,KAAO,CAClE,GAAI,CAYF,OAXiB,MAAMC,EAAM,IAAIN,EAAK,CACpC,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAAC,EACA,SAAUC,CACX,CACP,CAAK,GACe,KAAK,IACtB,OAAQE,EAAO,CACd,eAAQ,MAAM,uBAAwBA,CAAK,EACpC,EACR,CACH,ECpBO,SAASC,EAAcC,EAAQC,EAAgB,CACpDA,EAAe,UAAYD,EAAO,IAAIE,GAAO;AAAA,eAChCA,EAAI,aAAa;AAAA,kBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,gCAIpBA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,gCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,gCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,GAI1C,EAAE,KAAK,EAAE,EAEO,IAAIC,EAAe,IAAK,CACvC,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CC5BA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAiB,SAAS,cAAc,YAAY,EAE1D,IAAIb,EAAQ,GACRC,EAAO,EAEXS,EAAK,iBAAiB,SAAWI,GAAU,CAIzC,GAHAA,EAAM,eAAc,EACpBd,EAAQc,EAAM,OAAO,SAAS,MAAM,MAAM,OAEtC,CAACd,EAAO,CACVe,EAAS,QAAQ,CAAE,QAAS,6BAA+B,CAAA,EAC3D,MACD,CAEDH,EAAO,UAAU,IAAI,MAAM,EAC3BD,EAAQ,UAAY,GACpBE,EAAe,MAAM,QAAU,OAC/BZ,EAAO,EAEPe,GACF,CAAC,EAEDH,EAAe,iBAAiB,QAAS,IAAM,CAC7CA,EAAe,MAAM,QAAU,OAC/BD,EAAO,UAAU,IAAI,MAAM,EAC3BX,GAAQ,EACRe,GACF,CAAC,EAED,eAAeA,GAAuB,CACpC,GAAI,CACF,MAAMV,EAAS,MAAMP,EAAYC,EAAOC,CAAI,EAC5CW,EAAO,UAAU,OAAO,MAAM,EAE1BN,EAAO,OAAS,GAClBD,EAAcC,EAAQK,CAAO,EAC7BE,EAAe,MAAM,QAAU,SACtBZ,IAAS,GAClBc,EAAS,MAAM,CAAE,QAAS,wDAA0D,CAAA,CAEvF,OAAQX,EAAO,CACdQ,EAAO,UAAU,OAAO,MAAM,EAC9BG,EAAS,MAAM,CAAE,QAAS,sBAAsBX,EAAM,OAAO,2BAA2B,CAAE,CAC3F,CACH"}